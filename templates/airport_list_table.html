<script>
  // Single-selection checkbox logic and Edit Selected button enable/disable
  document.addEventListener('DOMContentLoaded', function() {
    const checkboxes = document.querySelectorAll('.airport-select-checkbox');
    const editBtn = document.getElementById('edit-airport-btn-airport');
    function updateEditBtn() {
      if (editBtn) {
        editBtn.disabled = !Array.from(checkboxes).some(cb => cb.checked);
      }
    }
    checkboxes.forEach(checkbox => {
      checkbox.addEventListener('change', function() {
        if (this.checked) {
          checkboxes.forEach(cb => {
            if (cb !== this) cb.checked = false;
          });
        }
        updateEditBtn();
      });
    });
    updateEditBtn();
  });
</script>
<h2 class="aircraft-section-title">Available Airports</h2>
<table style="width:100%;border-collapse:collapse;background:#23272e;color:#fff;">
  <thead>
    <tr style="background:#26304a;">
      <th style="padding:8px 12px;width:40px;"></th>
      <th style="padding:8px 12px;text-align:left;">Country</th>
      <th style="padding:8px 12px;text-align:left;">City</th>
      <th style="padding:8px 12px;text-align:left;">Airport Name</th>
      <th style="padding:8px 12px;text-align:left;">IATA Code</th>
    </tr>
  </thead>
  <tbody>
    {% for airport in airports %}
      <tr>
        <td><input type="checkbox" class="airport-select-checkbox" value="{{ airport.id }}"></td>
        <td>{{ airport.country }}</td>
        <td>{{ airport.city }}</td>
        <td>{{ airport.name }}</td>
        <td>{{ airport.iata_code }}</td>
      </tr>
    {% empty %}
      <tr><td colspan="5" style="padding:8px 12px;">No airports available.</td></tr>
    {% endfor %}
  </tbody>
</table>
<script>
    // Single-selection checkbox logic and Edit Selected button enable/disable
    document.addEventListener('DOMContentLoaded', function() {
        const checkboxes = document.querySelectorAll('.airport-select-checkbox');
        const editBtn = document.getElementById('edit-airport-btn-airport');
        function updateEditBtn() {
            editBtn.disabled = !Array.from(checkboxes).some(cb => cb.checked);
        }
        checkboxes.forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                if (this.checked) {
                    checkboxes.forEach(cb => {
                        if (cb !== this) cb.checked = false;
                    });
                }
                updateEditBtn();
            });
        });
        updateEditBtn();
    });
</script>